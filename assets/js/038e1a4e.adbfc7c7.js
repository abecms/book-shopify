(self.webpackChunknewshopify=self.webpackChunknewshopify||[]).push([[464],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6103:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(2122),i=n(9756),r=(n(7294),n(3905)),o=["components"],s={},l=void 0,c={unversionedId:"dynamisation/theme",id:"dynamisation/theme",isDocsHomePage:!1,title:"theme",description:"Th\xe8me / Liquid",source:"@site/docs/dynamisation/theme.md",sourceDirName:"dynamisation",slug:"/dynamisation/theme",permalink:"/docs/dynamisation/theme",version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Product",permalink:"/docs/config/product"},next:{title:"Product",permalink:"/docs/dynamisation/product"}},p=[{value:"Th\xe8me / Liquid",id:"th\xe8me--liquid",children:[]},{value:"Training",id:"training",children:[]},{value:"Introduction",id:"introduction",children:[]},{value:"Structure of your theme",id:"structure-of-your-theme",children:[]},{value:"Customize your theme settings",id:"customize-your-theme-settings",children:[]},{value:"Add a favicon",id:"add-a-favicon",children:[{value:"Diffence between section and snippet",id:"diffence-between-section-and-snippet",children:[]}]},{value:"Create a section",id:"create-a-section",children:[]},{value:"Create a snippet",id:"create-a-snippet",children:[]},{value:"insert a js",id:"insert-a-js",children:[]},{value:"insert a css",id:"insert-a-css",children:[]},{value:"nested sections",id:"nested-sections",children:[]},{value:"Restricted sections",id:"restricted-sections",children:[]},{value:"Image management",id:"image-management",children:[{value:"Crop an image",id:"crop-an-image",children:[]},{value:"Scale an image",id:"scale-an-image",children:[]},{value:"responsive image",id:"responsive-image",children:[]},{value:"Responsive background image",id:"responsive-background-image",children:[]}]},{value:"Alternative Template",id:"alternative-template",children:[]},{value:"Newsletter Section",id:"newsletter-section",children:[]},{value:"Translations",id:"translations",children:[]},{value:"Index for a for loop",id:"index-for-a-for-loop",children:[]},{value:"Pour aller \xe0 la ligne dans un textarea : newline_to_br",id:"pour-aller-\xe0-la-ligne-dans-un-textarea--newline_to_br",children:[]},{value:"Pour afficher un compl\xe9ment d&#39;information",id:"pour-afficher-un-compl\xe9ment-dinformation",children:[]},{value:"Afficher le titre d&#39;un menu dans un template",id:"afficher-le-titre-dun-menu-dans-un-template",children:[]},{value:"Page",id:"page",children:[]},{value:"Google Tag Manager",id:"google-tag-manager",children:[]},{value:"Layout Tricks",id:"layout-tricks",children:[{value:"Layout None",id:"layout-none",children:[]}]},{value:"Ajax API",id:"ajax-api",children:[{value:"Recommandations",id:"recommandations",children:[]},{value:"Predictive search / autocomplete",id:"predictive-search--autocomplete",children:[]},{value:"interact with cart on the frontend / minicart",id:"interact-with-cart-on-the-frontend--minicart",children:[]}]}],d={toc:p};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"th\xe8me--liquid"},"Th\xe8me / Liquid"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"liquid examples : ",(0,r.kt)("a",{parentName:"li",href:"https://shopify.github.io/liquid-code-examples/"},"https://shopify.github.io/liquid-code-examples/")),(0,r.kt)("li",{parentName:"ul"},"doc : ",(0,r.kt)("a",{parentName:"li",href:"https://help.shopify.com/en/themes/liquid/basics"},"https://help.shopify.com/en/themes/liquid/basics")),(0,r.kt)("li",{parentName:"ul"},"Cheat sheet : ",(0,r.kt)("a",{parentName:"li",href:"https://www.shopify.ca/partners/shopify-cheat-sheet"},"https://www.shopify.ca/partners/shopify-cheat-sheet")),(0,r.kt)("li",{parentName:"ul"},"Theme kit : ",(0,r.kt)("a",{parentName:"li",href:"https://shopify.github.io/themekit/"},"https://shopify.github.io/themekit/")),(0,r.kt)("li",{parentName:"ul"},"Theme template doc : ",(0,r.kt)("a",{parentName:"li",href:"https://help.shopify.com/en/themes/development/templates"},"https://help.shopify.com/en/themes/development/templates")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"                 https://help.shopify.com/en/themes\n"))),(0,r.kt)("li",{parentName:"ul"},"Tuto theme design : ",(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/playlist?list=PLlMkWQ65HlcEJMRRdnqxpbGImqBkIOctd"},"https://www.youtube.com/playlist?list=PLlMkWQ65HlcEJMRRdnqxpbGImqBkIOctd")),(0,r.kt)("li",{parentName:"ul"},"starter theme : ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/Shopify/starter-theme"},"https://github.com/Shopify/starter-theme"))),(0,r.kt)("h2",{id:"training"},"Training"),(0,r.kt)("p",null,"partner academy : ",(0,r.kt)("a",{parentName:"p",href:"https://partner-training.shopify.com/my_courses"},"https://partner-training.shopify.com/my_courses")),(0,r.kt)("h1",{id:"theme"},"Theme"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"From june 2019 , Shopify has generalized the concept of Section (the equivalent of our Sticker Blocks). The section allows you to create a template by assembling sections.\nIn the Back-office, user could add/move/configure sections."),(0,r.kt)("h2",{id:"structure-of-your-theme"},"Structure of your theme"),(0,r.kt)("p",null,"When you create a page based on stickers, you :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a layout"),(0,r.kt)("li",{parentName:"ul"},"Create a template (which uses a layout)"),(0,r.kt)("li",{parentName:"ul"},"Add section in this template (you may add sections to layout too)"),(0,r.kt)("li",{parentName:"ul"},"Create snippets inside sections")),(0,r.kt)("p",null,"| CAUTION : Your assets directory can't have subdirectories, nor the other folders ! (no /images subdirectory, not /fonts etc..."),(0,r.kt)("h2",{id:"customize-your-theme-settings"},"Customize your theme settings"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"settings_schema.json")," file to configure the theme settings that merchants can access using the theme editor. A merchant accesses the editor by clicking Customize from the Themes page of their Shopify admin."),(0,r.kt)("p",null,"Ref : ",(0,r.kt)("a",{parentName:"p",href:"https://shopify.dev/docs/themes/settings"},"https://shopify.dev/docs/themes/settings")),(0,r.kt)("p",null,"If you can use the values from your theme settings in your Liquid templates, CSS, and JavaScript files.\nFor exemple with the followings setting :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "type":      "text",\n  "id":        "tagline",\n  "label":     "Your company tagline",\n  "default":   "So fresh, so clean!",\n  "info":      "Use this field to add a tagline to your shop",\n},\n')),(0,r.kt)("p",null,"To display the setting value in the liquid template, use the following format",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"{{ settings.tagline }}")),(0,r.kt)("h2",{id:"add-a-favicon"},"Add a favicon"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("inlineCode",{parentName:"li"},"settings_schema.json")," add the following lines")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "name": "Favicon",\n  "settings": [\n    {\n      "type": "image_picker",\n      "id": "favicon",\n      "label": "Favicon image"\n    }\n  ]\n}\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Then go to the theme settings of your theme, you can now add an image or browse the library to select one")),(0,r.kt)("h3",{id:"diffence-between-section-and-snippet"},"Diffence between section and snippet"),(0,r.kt)("p",null,"Sections divide your page into blocks of content. Snippets are reusable components across the site which can be rendered inside your sections, your templates, or even under your layout."),(0,r.kt)("p",null,"Think your sections as big functional components while snippets are more little chunks of code composing your sections, templates or layouts."),(0,r.kt)("h2",{id:"create-a-section"},"Create a section"),(0,r.kt)("p",null,"use the ",(0,r.kt)("inlineCode",{parentName:"p"},"section")," tag :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% section 'header' %}\n")),(0,r.kt)("p",null,"And create the related file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"sections"),"directory of your theme"),(0,r.kt)("h2",{id:"create-a-snippet"},"Create a snippet"),(0,r.kt)("p",null,"use the ",(0,r.kt)("inlineCode",{parentName:"p"},"render"),"tag :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% render 'cp-header' %}\n")),(0,r.kt)("p",null," And create the related file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"snippets")," directory of your theme"),(0,r.kt)("h2",{id:"insert-a-js"},"insert a js"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},'<script src="{{ \'vendors.js\' | asset_url }}" defer="defer"><\/script>')),(0,r.kt)("h2",{id:"insert-a-css"},"insert a css"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"{{ 'app.css' | asset_url | stylesheet_tag }}")),(0,r.kt)("h2",{id:"nested-sections"},"nested sections"),(0,r.kt)("p",null,"To incule sections inside sections (taken from ",(0,r.kt)("a",{parentName:"p",href:"https://community.shopify.com/c/Shopify-Design/Nested-Sections/m-p/424873"},"https://community.shopify.com/c/Shopify-Design/Nested-Sections/m-p/424873"),") :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% capture sidebar_content_1 %}{% section 'sidebar-1' %}{% endcapture %}\n{% capture sidebar_content_2 %}{% section 'sidebar-2' %}{% endcapture %}\n\n{% assign sidebar_content_1 = sidebar_content1 | replace: 'class=\"shopify-section\"', 'class=\"shopify-section-nested\"' %}\n{% assign sidebar_content_2 = sidebar_content2 | replace: 'class=\"shopify-section\"', 'class=\"shopify-section-nested\"' %}\n\n{% capture collection_template_content %}\n    {% section 'collection' %}\n{% endcapture %}\n\n{% assign collection_template_content = collection_template_content | replace: \"%%SIDEBAR-1%%\", sidebar_content_1 %}\n{% assign collection_template_content = collection_template_content | replace: \"%%SIDEBAR-2%%\", sidebar_content_2 %}\n\n{{collection_template_content}}\n")),(0,r.kt)("h2",{id:"restricted-sections"},"Restricted sections"),(0,r.kt)("p",null,"If you want to make sections displayed during a sepcific range of date, for everyone, only connected or not connected people :"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add a block in your schema, with :")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A starting date that indicates when the content will be displayed"),(0,r.kt)("li",{parentName:"ul"},"A ending date that indicates when the content stop to be displayed"),(0,r.kt)("li",{parentName:"ul"},"3 radios buttons that indicates if content is displayed for everyone (all), only connected people (customer), or not connected people (anonymous).")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'"blocks":[\n      {\n        "type": "Settings",\n        "name": {\n          "en": "Settings",\n          "fr": "Configuration"\n        },\n        "settings": [\n          {\n            "type": "text",\n            "id": "start_date",\n            "label": "Start date"\n          },\n          {\n            "type": "text",\n            "id": "end_date",\n            "label": "End date"\n          },\n          {\n            "type": "radio",\n            "id": "display",\n            "options": [\n              { "value": "all", "label": "Tout le monde"},\n              { "value": "customer", "label": "Connect\xe9"},\n              { "value": "anonymous", "label": "Non connect\xe9"}\n            ],\n            "label": "Cible"\n          }\n        ]\n      }\n    ],\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Then add this code at the top of your section :")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% assign customerAuthorized = false %}\n{% assign anonymousAuthorized = false %}\n{% assign allAuthorized = false %}\n{% assign display = false %}\n{% assign start_date = blank %}\n{% assign end_date = blank %}\n{% assign today_date = 'now' | date: '%s' %}\n\n{% if section.blocks[0].settings.start_date %}\n  {% assign start_date = section.blocks[0].settings.start_date | date: '%s' %}\n{% endif %}\n{% if section.blocks[0].settings.end_date %}\n  {% assign end_date = section.blocks[0].settings.end_date | date: '%s' %}\n{% endif %}\n\n{% if today_date >= start_date or start_date == blank %}\n  {% if today_date < end_date or end_date == blank %}\n    {% assign display = true %}\n  {% endif %}\n{% endif %}\n\n{% if display and customer and section.blocks[0].settings.display == \"customer\" %}\n  {% assign customerAuthorized = true %}\n{% endif %}\n{% unless customer %}\n  {% if display and section.blocks[0].settings.display == \"anonymous\" %}\n    {% assign anonymousAuthorized = true %}\n  {% endif %}\n{% endunless %}\n{% if display and section.blocks[0].settings.display == \"all\" or section.blocks[0].settings.display == nil %}\n  {% assign allAuthorized = true %}\n{% endif %}\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Then add a test ont your code, based on these variables")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% if customerAuthorized or anonymousAuthorized or allAuthorized %} \n    CODE\n{% endif %}\n")),(0,r.kt)("h2",{id:"image-management"},"Image management"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.shopify.com/partners/blog/img-url-filter"},"https://www.shopify.com/partners/blog/img-url-filter"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.shopify.com/partners/blog/using-responsive-images"},"https://www.shopify.com/partners/blog/using-responsive-images")),(0,r.kt)("p",null,"All of the following techniques apply to :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"img_url"),(0,r.kt)("li",{parentName:"ul"},"product_img_url"),(0,r.kt)("li",{parentName:"ul"},"collection_img_url"),(0,r.kt)("li",{parentName:"ul"},"article_img_url")),(0,r.kt)("p",null,"use the ",(0,r.kt)("inlineCode",{parentName:"p"},"img_url")," filter to format an image URL :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{{ product.featured_image | img_url: '100x100' }}\n")),(0,r.kt)("p",null,"You notice that you may select a size ",(0,r.kt)("inlineCode",{parentName:"p"},"100x100"),". You can also select only a width or only a height :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"width : {{ product.featured_image | img_url: '100x' }}\nheight : {{ product.featured_image | img_url: 'x100' }}\n")),(0,r.kt)("p",null,"You can also generate the full ",(0,r.kt)("inlineCode",{parentName:"p"},"<img/>")," tag :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{{ product.featured_image | img_url: '100x100' | img_tag }}\n")),(0,r.kt)("h3",{id:"crop-an-image"},"Crop an image"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{{ product.featured_image | img_url: '450x450\u2019, crop: \u2018center\u2019 }}\n")),(0,r.kt)("h3",{id:"scale-an-image"},"Scale an image"),(0,r.kt)("p",null,"we can also request a certain pixel density using the scale parameter."),(0,r.kt)("p",null,"The two valid options are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"2"),(0,r.kt)("li",{parentName:"ul"},"3")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{ product.featured_image | img_url: '450x450\u2019, crop: \u2018center\u2019, scale: 2 }}\n")),(0,r.kt)("h3",{id:"responsive-image"},"responsive image"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<img id="{{ img_id }}"\n    class="article__grid-image lazyload"\n    src="{{ article.image | img_url: \'300x300\' }}"\n    data-src="{{ img_url }}"\n    data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"\n    data-aspectratio="{{ article.image.aspect_ratio }}"\n    data-sizes="auto">\n')),(0,r.kt)("p",null,"The different sizes will be used depending on the browser definition and size."),(0,r.kt)("p",null,"Note the class ",(0,r.kt)("inlineCode",{parentName:"p"},"lazyload")," which pertains to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/aFarkas/lazysizes"},"https://github.com/aFarkas/lazysizes"),"\nWhat this plugin does is temporarily preload a small image as a placeholder, while the correct image is loads. This reduces any time when a blank space would be shown where the slideshow should appear."),(0,r.kt)("h3",{id:"responsive-background-image"},"Responsive background image"),(0,r.kt)("p",null,"Dynamically making a background image is not easy. Here is the trick to make it possible :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<style>\n    /* default screen, non-retina */\n    .intro {\n      background-image: url({{ section.settings.image | img_url: '720x' }});\n    }\n    @media (min-width: 992px) {\n      /* Small screen, non-retina */\n      .intro {\n        background-image: url({{ section.settings.image | img_url: '1350x' }});\n      }\n    }\n</style>\n    <div class=\"intro\">\n   ...\n </div>\n")),(0,r.kt)("p",null,"In this example of a liquid section, you see that we define a style depending on the screen size and apply it to the class ",(0,r.kt)("inlineCode",{parentName:"p"},"intro"),"."),(0,r.kt)("h2",{id:"alternative-template"},"Alternative Template"),(0,r.kt)("p",null,"The alternative templates allow the declination of main templates in order to :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Be able to lighten the code for an Ajax request"),(0,r.kt)("li",{parentName:"ul"},"Inject a new template"),(0,r.kt)("li",{parentName:"ul"},"And many more choice")),(0,r.kt)("p",null,"Syntax: ",(0,r.kt)("inlineCode",{parentName:"p"},"default_template_name.*.liquid")),(0,r.kt)("p",null,"E.g."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"product.liquid")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  <div class="product-page">\n    <h1>\n      Pincipal template\n    </h1>\n    <p>Template description</p>\n    <div class="more-product-info">\n      More Product Info\n    </div>\n  </div>\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"product.list.liquid")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  <div class="product-list-page">\n    <h1>\n      Alternative template\n    </h1>\n    <ul>\n      <li>Product 1</li>\n      <li>Product 2</li>\n      <li>Product 3</li>\n    </ul>\n  </div>\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"product.preview.liquid")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  <div class="product-preview">\n    <h1>\n      Alternative template\n    </h1>\n    <p>Template description</p>\n  </div>\n')),(0,r.kt)("h2",{id:"newsletter-section"},"Newsletter Section"),(0,r.kt)("p",null,"This section is an example of a fully functional newsletter including the possibility for the admin to enter the title and label of the newsletter."),(0,r.kt)("p",null,"Don't forget to add translations for the submit button and placeholder in the locales files."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<div class="cp-newsletter" data-section-id="{{ section.id }}" data-section-type="newsletter-section">\n{%- if section.settings.image != blank -%}\n  <style>\n    /* default screen, non-retina */\n    .newsletter .newsletter__inner {\n      background-image: url({{ section.settings.image | img_url: \'720x\' }});\n    }\n    @media (min-width: 992px) {\n      /* Small screen, non-retina */\n      .newsletter .newsletter__inner {\n        background-image: url({{ section.settings.image | img_url: \'1350x\' }});\n      }\n    }\n  </style>\n    <div class="newsletter">\n        <div class="section">\n            <div class="container-fluid">\n                <div class="newsletter__inner">\n                    <div class="newsletter__content">\n                        <h2 class="newsletter__title">\n                            {{ section.settings.title | escape }}\n                        </h2>\x3c!-- /.newsletter__title --\x3e\n\n                        <div class="newsletter__entry">\n                            <p>\n                                {{ section.settings.label | escape }}\n                            </p>\n                        </div>\x3c!-- /.newsletter__entry --\x3e\n                    </div>\x3c!-- /.newsletter__content --\x3e\n\n                    <div class="newsletter__actions">\n                        <div class="subscribe">\n                            {%- assign formId = \'Contact_\' | append: section.id -%}\n                            {% form \'customer\', id: formId, novalidate: \'novalidate\', class: \'contact-form form-single-field\' %}\n                            {%- if form.posted_successfully? -%}\n                                <p class="form-message form-message--success" style="color:#fff" tabindex="-1" data-form-status>\n                                {{ \'general.newsletter_form.confirmation\' | t }}\n                                </p>\n                            {%- else -%}\n                                <input type="hidden" name="contact[tags]" value="newsletter">\n                                <div class="input-group {% if form.errors %} input-group--error{% endif %}">\n                                    <input type="email"\n                                    name="contact[email]"\n                                    id="{{ formId }}-email"\n                                    class="form-control subscribe__field{% if form.errors %} input--error{% endif %}"\n                                    value="{{ form.email }}"\n                                    placeholder="{{ \'general.newsletter_form.email_placeholder\' | t }}"\n                                    aria-label="{{ \'general.newsletter_form.email_placeholder\' | t }}"\n                                    aria-required="true"\n                                    autocorrect="off"\n                                    autocapitalize="off"\n                                    {% if form.errors %}\n                                        aria-invalid="true"\n                                        aria-describedby="{{ formId }}-email-error"\n                                        data-form-status\n                                    {% endif %}\n                                    >\n                                    <button type="submit" class="subscribe__btn" name="commit" id="Subscribe" style="z-index:5">\n                                        <span>{{ \'general.newsletter_form.submit\' | t }}</span>\n                                    </button>\n                                </div>\n                                {%- if form.errors contains \'email\' -%}\n                                    <span id="{{ formId }}-email-error" class="input-error-message">\n                                    <span class="visually-hidden">{{ \'general.accessibility.error\' | t }} </span>\n                                    {% render \'icon-error\' %}\n                                    <span>{{ form.errors.translated_fields[\'email\'] | capitalize }} {{ form.errors.messages[\'email\'] }}.</span>\n                                    </span>\n                                {%- endif -%}\n                            {%- endif -%}\n                            {% endform %}\n                        </div>\x3c!-- /.subscribe --\x3e\n                    </div>\x3c!-- /.newsletter__actions --\x3e\n                </div>\x3c!-- /.newsletter__inner --\x3e\n            </div>\x3c!-- /.container-fluid --\x3e\n        </div>\x3c!-- /.section --\x3e\n    </div>\x3c!-- /.newsletter --\x3e\n{%- endif -%}\n</div>\x3c!-- /.cp-newsletter --\x3e\n\n{% schema %}\n{\n  "name": {\n    "en": "Newsletter",\n    "fr": "Newsletter"\n  },\n  "class": "index-section index-section--flush",\n  "settings": [\n    {\n      "type": "image_picker",\n      "id": "image",\n      "label": {\n        "en": "Image",\n        "fr": "Image"\n      }\n    },\n    {\n      "type": "text",\n      "id": "title",\n      "label": {\n        "en": "Title",\n        "fr": "Titre"\n      },\n      "default": {\n          "en" : "Subscribe to our newsletter",\n          "fr" : "S\'inscrire \xe0 notre newsletter"\n      }\n    },\n    {\n      "type": "text",\n      "id": "label",\n      "label": {\n        "en": "Label",\n        "fr": "Label"\n      },\n      "default": {\n          "en" : "Stay informed",\n          "fr" : "Restez inform\xe9 de nos bons plans et nouveaut\xe9s"\n      }\n    },\n    {\n      "type": "paragraph",\n      "content": {\n        "da": "Alle kunder, der tilmelder sig, f\xe5r oprettet en konto i Shopify. [Se kunder](/admin/customers?query=&accepts_marketing=1)",\n        "de": "Alle Kunden, die sich eintragen, bekommen ein Konto in Shopify. [Kunden ansehen](/admin/customers?query=&accepts_marketing=1)",\n        "en": "Any customers who sign up will have an account created for them in Shopify. [View customers](/admin/customers?query=&accepts_marketing=1)",\n        "es": "Todos los clientes que se registren tendr\xe1n una cuenta creada para ellos en Shopify. [Ver clientes](/admin/customers?query=&accepts_marketing=1)",\n        "fi": "Tilaaville asiakkaille luodaan tili Shopify-palvelussa. [N\xe4yt\xe4 asiakkaat](/admin/customers?query=&accepts_marketing=1)",\n        "fr": "Tous les clients qui s\'inscrivent auront un compte cr\xe9\xe9 pour eux sur Shopify. [Voir les clients](/admin/customers?query=&accepts_marketing=1)",\n        "hi": "\u0938\u093e\u0907\u0928 \u0905\u092a \u0915\u0930\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u093f\u0938\u0940 \u092d\u0940 \u0917\u094d\u0930\u093e\u0939\u0915 \u0915\u0947 \u0932\u093f\u090f Shopify \u092e\u0947\u0902 \u090f\u0915 \u0916\u093e\u0924\u093e \u092c\u0928\u093e\u092f\u093e \u091c\u093e\u090f\u0917\u093e. [\u0917\u094d\u0930\u093e\u0939\u0915 \u0926\u0947\u0916\u0947\u0902](/admin/customers?query=&accepts_marketing=1)",\n        "it": "Qualsiasi cliente che si iscrive avr\xe0 un account creato appositamente su Shopify. [Visualizza clienti](/admin/customers?query=&accepts_marketing=1)",\n        "ja": "\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u304a\u5ba2\u69d8\u306f\u3001Shopify\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002[\u304a\u5ba2\u69d8\u3092\u8868\u793a](/admin/customers?query=&accepts_marketing=1)",\n        "ko": "\uac00\uc785\ud55c \uace0\uac1d\uc740 Shopify\uc5d0\uc11c \uc0dd\uc131\ub41c \uacc4\uc815\uc744 \ubcf4\uc720\ud558\uac8c \ub429\ub2c8\ub2e4. [\uace0\uac1d\ubcf4\uae30](/admin/customers? query=& accepts_marketing=1)",\n        "ms": "Mana-mana pelanggan yang mendaftar akan mempunyai akaun yang dicipta untuk mereka di Shopify. [Lihat pelanggan](/admin/pelanggan?Query=&accepts_marketing=1)",\n        "nb": "Alle kunder som melder seg p\xe5, vil f\xe5 opprettet en konto i Shopify. [Se kunder](/admin/customers?query=&accepts_marketing=1)",\n        "nl": "Voor alle klanten die zich aanmelden, wordt een Shopify-account gemaakt. [Klanten weergeven](/admin/customers?query=&accepts_marketing=1)",\n        "pt-BR": "Todos os clientes que se inscreverem ter\xe3o uma conta criada para eles na Shopify. [View customers](/admin/customers?query=&accepts_marketing=1)",\n        "pt-PT": "Ser\xe1 criada uma conta na Shopify para todos os clientes que se registarem. [Ver clientes](/admin/customers?query=&accepts_marketing=1)",\n        "sv": "Alla kunder som registrerar sig kommer att f\xe5 ett konto skapat i Shopify. [Visa kunder](/ admin / kunder? Query = & accepts_marketing = 1)",\n        "th": "\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e43\u0e19 Shopify \u0e43\u0e2b\u0e49\u0e41\u0e01\u0e48\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e23\u0e32\u0e22\u0e43\u0e14\u0e01\u0e47\u0e15\u0e32\u0e21\u0e17\u0e35\u0e48\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19 [\u0e14\u0e39\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32](/admin/customers?query=&accepts_marketing=1)",\n        "zh-CN": "\u4efb\u4f55\u6ce8\u518c\u7528\u6237\u90fd\u5c06\u5728 Shopify \u4e2d\u62e5\u6709\u4e00\u4e2a\u4e3a\u4ed6\u4eec\u521b\u5efa\u7684\u5e10\u6237\u3002[\u67e5\u770b\u5ba2\u6237](/admin/customers?query=&accepts_marketing=1)",\n        "zh-TW": "\u9867\u5ba2\u8a3b\u518a\u5f8c\u5c31\u53ef\u4ee5\u64c1\u6709 Shopify \u5e33\u6236\u3002[\u6aa2\u8996\u9867\u5ba2](/admin/customers?query=&accepts_marketing=1)"\n      }\n    }\n  ],\n  "presets": [\n    {\n        "name": {\n            "en": "Newsletter",\n            "fr": "Newsletter"\n        },\n        "category": {\n            "en": "Promotional",\n            "fr": "Promotionnel"\n        }\n    }\n  ]\n}\n{% endschema %}\n')),(0,r.kt)("h2",{id:"translations"},"Translations"),(0,r.kt)("p",null,"To prepare your theme for translation, use the files in /locales\nexample (en.default.json):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "general": {\n    "newsletter_form": {\n      "email_placeholder": "Email address",\n      "confirmation": "Thanks for subscribing!",\n      "submit": "OK"\n    }\n  }\n}\n')),(0,r.kt)("p",null,"fr.json:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "general": {\n    "newsletter_form": {\n      "email_placeholder": "Votre adresse email",\n      "confirmation": "Merci pour votre inscription!",\n      "submit": "OK"\n    }\n  }\n}\n')),(0,r.kt)("p",null,"You'll use these labels in your liquid templates:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{{ 'general.newsletter_form.confirmation' | t }}\n")),(0,r.kt)("h2",{id:"index-for-a-for-loop"},"Index for a for loop"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% for block in section.blocks %}\n    {% if forloop.index > 1 %}\n\n    {% endif %}\n{% endfor %}\n")),(0,r.kt)("h2",{id:"pour-aller-\xe0-la-ligne-dans-un-textarea--newline_to_br"},"Pour aller \xe0 la ligne dans un textarea : newline_to_br"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"{{footer_client_description | newline_to_br}}")),(0,r.kt)("h2",{id:"pour-afficher-un-compl\xe9ment-dinformation"},"Pour afficher un compl\xe9ment d'information"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"dans le settings de la section ajouter une ligne info\n",(0,r.kt)("inlineCode",{parentName:"li"},'"info": "Texte que l\'on veut afficher"'))),(0,r.kt)("h2",{id:"afficher-le-titre-dun-menu-dans-un-template"},"Afficher le titre d'un menu dans un template"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"{{ linklists.footer.title }}")," footer correspond \xe0 l'id du menu (ancre) dans le BO"),(0,r.kt)("h2",{id:"page"},"Page"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Afficher la description saisie dans le BO:\n",(0,r.kt)("inlineCode",{parentName:"li"},"{{ page_description }}"))),(0,r.kt)("h2",{id:"google-tag-manager"},"Google Tag Manager"),(0,r.kt)("p",null,"Below is the code you would enter in the additional content & scripts of then settings>checkout area of Shopify. This will allow you to create variables in google tag manager, that you can then use in the conversion tracking pixels."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<script>\n window.dataLayer = window.dataLayer || [];\n window.dataLayer.push({\n    'ecomm__orderValue': '{{ checkout.total_price | money_without_currency }}',\n    'ecomm__orderNumber': '{{ checkout.order_number }}',\n    'ecomm__itemCount': '{{ line_items.size }}',\n    'ecomm__customerEmail': '{{ checkout.customer.email }}'\n });\n<\/script>\n")),(0,r.kt)("h2",{id:"layout-tricks"},"Layout Tricks"),(0,r.kt)("h3",{id:"layout-none"},"Layout None"),(0,r.kt)("p",null,"Syntax: ",(0,r.kt)("inlineCode",{parentName:"p"},"{% layout none %}")),(0,r.kt)("p",null,"Description: Give you the possibility to render a template without layout (ideal to create a json result as for creatong a search JSON feature)"),(0,r.kt)("p",null,"E.g.:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  {% layout none %}\n  <div class="product-preview">\n    <h1>\n      Alternative template\n    </h1>\n    <p>Template description</p>\n  </div>\n')),(0,r.kt)("h2",{id:"ajax-api"},"Ajax API"),(0,r.kt)("h3",{id:"recommandations"},"Recommandations"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://shopify.dev/docs/themes/liquid/reference/objects/recommendations"},"https://shopify.dev/docs/themes/liquid/reference/objects/recommendations")),(0,r.kt)("h3",{id:"predictive-search--autocomplete"},"Predictive search / autocomplete"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://shopify.dev/tutorials/add-predictive-search-to-your-shopify-theme"},"https://shopify.dev/tutorials/add-predictive-search-to-your-shopify-theme")),(0,r.kt)("h3",{id:"interact-with-cart-on-the-frontend--minicart"},"interact with cart on the frontend / minicart"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Shopify/theme-scripts/blob/master/packages/theme-cart/README.md"},"https://github.com/Shopify/theme-scripts/blob/master/packages/theme-cart/README.md")))}u.isMDXComponent=!0}}]);