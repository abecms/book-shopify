(self.webpackChunknewshopify=self.webpackChunknewshopify||[]).push([[749],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=i,h=u["".concat(d,".").concat(m)]||u[m]||p[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},167:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var a=n(2122),i=n(9756),r=(n(7294),n(3905)),o=["components"],l={id:"product",titre:"Product",sidebar_label:"Product"},d=void 0,s={unversionedId:"dynamisation/product",id:"dynamisation/product",isDocsHomePage:!1,title:"product",description:"Table of contents",source:"@site/docs/dynamisation/product.md",sourceDirName:"dynamisation",slug:"/dynamisation/product",permalink:"/docs/dynamisation/product",version:"current",frontMatter:{id:"product",titre:"Product",sidebar_label:"Product"},sidebar:"docs",previous:{title:"theme",permalink:"/docs/dynamisation/theme"},next:{title:"Search",permalink:"/docs/dynamisation/search"}},c=[{value:"Table of contents",id:"table-of-contents",children:[]},{value:"Display product media",id:"display-product-media",children:[]},{value:"Show Variant In Front",id:"show-variant-in-front",children:[]},{value:"Exploded Variant",id:"exploded-variant",children:[{value:"Create the JavaScript file",id:"create-the-javascript-file",children:[]},{value:"Update the layout file",id:"update-the-layout-file",children:[]}]}],p={toc:c};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"table-of-contents"},"Table of contents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#product"},"Product"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#table-of-contents"},"Table of contents")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#display-product-media"},"Display product media")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#show-variant-in-front"},"Show Variant In Front")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#exploded-variant"},"Exploded Variant"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#create-the-javascript-file"},"Create the JavaScript file")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#update-the-layout-file"},"Update the layout file")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#create-a-custom-liquid-file"},"Create a custom liquid file")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#how-to-use-it"},"How to use it"))))))),(0,r.kt)("h2",{id:"display-product-media"},"Display product media"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In your product template:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{% for media in product.media %}\n   {% include 'media' %}\n{% endfor %}\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Create a media snippet :")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{% case media.media_type %}\n      {% when \'image\' %}\n      {% when \'external_video\' %}\n        <div class="product-single__media" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100}}%;" data-media-id="{{ media.id }}">\n          {{ media | external_video_tag }}\n        </div>\n      {% when \'video\' %}\n        <div class="product-single__media" data-media-id="{{ media.id }}">\n          {{ media | video_tag: controls: true }}\n        </div>\n      {% when \'model\' %}\n        <div class="product-single__media" style="padding-top: 100%" data-media-id="{{ media.id }}">\n          {{ media | model_viewer_tag }}\n        </div>\n      {% else %}\n        <div class="product-single__media" style="padding-top: 100%;" data-media-id="{{ media.id }}">\n          {{ media | media_tag }}\n        </div>\n{% endcase %}\n')),(0,r.kt)("h2",{id:"show-variant-in-front"},"Show Variant In Front"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to ",(0,r.kt)("inlineCode",{parentName:"li"},"templates")),(0,r.kt)("li",{parentName:"ul"},"Put this code inside a product form",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  \x3c!-- Variants Selector --\x3e\n  <select name="id">\n    {% for variant in product.variants %}\n      <option value="{{ variant.id }}">{{ variant.title }}</option>\n    {% endfor %}\n  </select>\n  \x3c!-- /Variants Selector --\x3e\n'))),(0,r.kt)("li",{parentName:"ul"},"This will show a select of all possible variant",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"E.g.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"red/xs"),(0,r.kt)("li",{parentName:"ul"},"red/s"),(0,r.kt)("li",{parentName:"ul"},"red/m")))))),(0,r.kt)("h2",{id:"exploded-variant"},"Exploded Variant"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"In the case you want to separate variants in front")),(0,r.kt)("h3",{id:"create-the-javascript-file"},"Create the JavaScript file"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to ",(0,r.kt)("inlineCode",{parentName:"li"},"assets")),(0,r.kt)("li",{parentName:"ul"},"Edit an existing ",(0,r.kt)("inlineCode",{parentName:"li"},".js")," file or create it *e.g (",(0,r.kt)("inlineCode",{parentName:"li"},"swatch.js"),")"),(0,r.kt)("li",{parentName:"ul"},"Put the following code inside"),(0,r.kt)("li",{parentName:"ul"},"Save your file")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"  /**\n   * -------------------------\n   * ShpCustom: Swatch\n   * -------------------------\n   */\n\n  // If You don't already have a custom global object created\n  // e.g ShpCustom can be what ever you want\n  window.ShpCustom = window.ShpCustom || {cart: {}};\n\n  (function() {\n    ShpCustom.Swatch = class {\n\n      /**\n       * Create a swatch.\n       * @param {string} id - The id of the form.\n       * @param {string} variantSelectId - The variant select id.\n       * @param {object} product - The product object.\n       */\n      constructor(id, variantSelectId, product) {\n        this.product = product;\n        this.sizeAlertTimeout;\n        this.id = `#${id}`;\n        this.variantSelectId = `${variantSelectId}`;\n\n        this.$sizeAlert = $(`${this.id} .size__alert`);\n        this.$addToCart = $(`${this.id} .js-add-to-cart`);\n        this.init();\n      }\n\n      init() {\n        new Shopify.OptionSelectors(this.variantSelectId, {\n          product: this.product,\n          onVariantSelected: (variant, selector) => {\n            this.selectCallback(variant, selector);\n          }\n        });\n\n        $(`${this.id} .selector-wrapper`).hide();\n\n        clearTimeout(this.sizeAlertTimeout);\n      \n        $(`${this.id} .swatch :radio`).change(this.handleChange);\n\n        // In case you want to link it with add to cart function\n        $(this.id).submit(this.handleSubmit)\n      }\n\n      handleChange(event) {\n        var optionIndex = $(event.target).closest('.swatch').attr('data-option-index');\n        var optionValue = $(event.target).val();\n        $(event.target)\n          .closest('form')\n          .find('.single-option-selector')\n          .eq(optionIndex)\n          .val(optionValue)\n          .trigger('change');\n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n      \n        const $submitButton = $(this.id).find('.js-add-to-cart');\n      \n        $submitButton.attr('disabled', 'disabled');\n        ShpCustom.Cart.addItemFromForm($(this.id).serialize(), () => {\n          $submitButton.removeAttr('disabled');\n        });\n      }\n\n      showAlert() {\n        if (this.$sizeAlert) {\n          this.$sizeAlert.show();\n          this.sizeAlertTimeout = setTimeout(() => {\n            this.$sizeAlert.hide();\n          }, 3000);\n        }\n      }\n\n      selectCallback(variant) {\n        this.$sizeAlert.hide();\n        if (variant) {\n          if (variant.available) {\n            this.$addToCart.removeAttr('disabled');\n          } else {\n            this.$addToCart.attr('disabled', 'disabled');\n            this.showAlert();\n          }\n        } else {\n          this.$addToCart.attr('disabled', 'disabled');\n          this.showAlert();\n        }\n      };\n    }\n  })();\n")),(0,r.kt)("h3",{id:"update-the-layout-file"},"Update the layout file"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to ",(0,r.kt)("inlineCode",{parentName:"li"},"layout")),(0,r.kt)("li",{parentName:"ul"},"Open the ",(0,r.kt)("inlineCode",{parentName:"li"},"theme.liquid")," file"),(0,r.kt)("li",{parentName:"ul"},"At the bottom of the file before the ",(0,r.kt)("inlineCode",{parentName:"li"},"</body>")," add",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  <script src="{{ \'name_of_your_file.js\' | asset_url }}" defer="defer"><\/script>\n'))),(0,r.kt)("li",{parentName:"ul"},"Save your file")),(0,r.kt)("h1",{id:"create-a-custom-liquid-file-swatch"},"Create a custom liquid file (swatch)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to ",(0,r.kt)("inlineCode",{parentName:"li"},"snippets")),(0,r.kt)("li",{parentName:"ul"},"Create a file named ",(0,r.kt)("inlineCode",{parentName:"li"},"swatch.liquid")),(0,r.kt)("li",{parentName:"ul"},"Add the following code inside and ",(0,r.kt)("em",{parentName:"li"},"do some modifications/customization"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  {% assign selectedOptionToDisplay = option | escape | downcase %}\n  {% unless product.has_only_default_variant %}\n    {% for option in product.options_with_values %}\n    \n      {% assign downcased_option = option.name | escape | downcase %}\n\n        {% if selectedOptionToDisplay == downcased_option %}\n\n          {% if downcased_option == \'size\' %}\n            <div class="size-numbers">\n              <h6 class="size__title">\n                {{ \'general.product.size\' | t | capitalize}}\n              </h6>\x3c!-- /.size__title --\x3e\n              <div class="size__body">\n          {% endif %}\n\n          {% if downcased_option == \'color\' %}\n            <div class="colors">\n              {% if template == \'product\' %}\n                <h6 class="colors__title">\n                  {{ \'general.product.color\' | t | capitalize}}\n                </h6>\x3c!-- /.colors__title --\x3e\n              {% endif %}\n              <div class="colors__inner">\n          {% endif %}\n          \n                <div class="swatch" class="swatch" data-option-index="{{ forloop.index0 }}">\n                  {% for value in option.values %}\n\n                    {% assign variant_label_state = true %}\n\n                    {% if product.options.size == 1 %}\n                      {% unless product.variants[forloop.index0].available %}\n                        {% assign variant_label_state = false %}\n                      {% endunless %}\n                    {% endif %}\n\n                    <input type="radio"\n                      class="hidden"\n                      {% if forloop.index0 == 0 %} checked="checked"{% endif %}\n                      {% unless variant_label_state %} disabled="disabled"{% endunless %}\n                      value="{{ value | escape }}"\n                      data-index="option{{ forloop.index }}"\n                      name="{{ option.name | handleize }}"\n                      data-js-swatch-input>\n                    {% if downcased_option == \'color\' %}\n                      <label \n                        class="color color--{{ value | escape | downcase }}" \n                        data-js-swatch-label>\n                        <div class="color__btn"></div>\n                      </label>\n                    {% endif %}\n                    {% if downcased_option == \'size\' %}\n                      <label \n                        class="size {% unless variant_label_state %}size--unavailable {% endunless %}"\n                        data-js-swatch-label>\n                        {{ value }}\n                      </label>\n                    {% endif %}\n                  {% endfor %}              </div>\n\n          {% if downcased_option == \'size\' or downcased_option == \'color\' %}\n              </div>\n              {% if downcased_option == \'size\'and activeSizeAlert %}\n                <div class="size__alert hidden">\n                  <p>\n                    {{ \'general.product.size_alert\' | t }}\n                  </p>\n                </div>\n              {% endif %} \n            </div>\n          {% endif %}\n\n        {% endif %}\n    {% endfor %}\n  {% endunless %}\n')),(0,r.kt)("h1",{id:"create-a-custom-liquid-file-variant"},"Create a custom liquid file (variant)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to ",(0,r.kt)("inlineCode",{parentName:"li"},"snippets")),(0,r.kt)("li",{parentName:"ul"},"Create a file named ",(0,r.kt)("inlineCode",{parentName:"li"},"variant-selector.liquid")),(0,r.kt)("li",{parentName:"ul"},"Add the following code inside and ",(0,r.kt)("em",{parentName:"li"},"do some modifications/customization")),(0,r.kt)("li",{parentName:"ul"},"Put this code inside",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- Variants Selector --\x3e\n  <select data-js-variant name="id" class="hidden">\n    {% for item in items %}\n      <option value="{{ item.id }}">{{ item.title }}</option>\n    {% endfor %}\n  </select>\n\x3c!-- /Variants Selector --\x3e\n')))),(0,r.kt)("h1",{id:"how-to-use-it"},"How to use it"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"E.g. use it on a product page")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In your Shopify workspace go to your ",(0,r.kt)("em",{parentName:"li"},"liquid product page")),(0,r.kt)("li",{parentName:"ul"},"Customize your Shopify form tag to match this: ",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'  {% form "product", product, data-js-swatch: true, data-handle: product.handle %}\n'))),(0,r.kt)("li",{parentName:"ul"},"Include your swatch liquid file inside your product ",(0,r.kt)("em",{parentName:"li"},"form")," where you want",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},"  {% include 'swatch' with option: 'Color' %}\n  {% include 'swatch' with option: 'Size' %}\n"))),(0,r.kt)("li",{parentName:"ul"},"Don't forget to add class to :",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Add To Cart Button")," ",(0,r.kt)("inlineCode",{parentName:"li"},"js-add-to-cart"))))))}u.isMDXComponent=!0}}]);