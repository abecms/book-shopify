(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{135:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return s}));var n=a(1),i=a(9),r=(a(0),a(155)),l={id:"product",titre:"Product",sidebar_label:"Product"},o={id:"dynamisation/product",title:"product",description:"## Table of contents",source:"@site/docs/dynamisation/product.md",permalink:"/docs/dynamisation/product",sidebar_label:"Product",sidebar:"docs",previous:{title:"theme",permalink:"/docs/dynamisation/theme"},next:{title:"search",permalink:"/docs/dynamisation/search"}},c=[{value:"Table of contents",id:"table-of-contents",children:[]},{value:"Display product media",id:"display-product-media",children:[]},{value:"Show Variant In Front",id:"show-variant-in-front",children:[]},{value:"Exploded Variant",id:"exploded-variant",children:[{value:"Create the JavaScript file",id:"create-the-javascript-file",children:[]},{value:"Update the layout file",id:"update-the-layout-file",children:[]}]}],d={rightToc:c};function s(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"table-of-contents"},"Table of contents"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#product"}),"Product"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#table-of-contents"}),"Table of contents")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#display-product-media"}),"Display product media")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#show-variant-in-front"}),"Show Variant In Front")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#exploded-variant"}),"Exploded Variant"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#create-the-javascript-file"}),"Create the JavaScript file")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#update-the-layout-file"}),"Update the layout file")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#create-a-custom-liquid-file"}),"Create a custom liquid file")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#how-to-use-it"}),"How to use it"))))))),Object(r.b)("h2",{id:"display-product-media"},"Display product media"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"In your product template:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"{% for media in product.media %}\n   {% include 'media' %}\n{% endfor %}\n")),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"Create a media snippet :")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'{% case media.media_type %}\n      {% when \'image\' %}\n      {% when \'external_video\' %}\n        <div class="product-single__media" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100}}%;" data-media-id="{{ media.id }}">\n          {{ media | external_video_tag }}\n        </div>\n      {% when \'video\' %}\n        <div class="product-single__media" data-media-id="{{ media.id }}">\n          {{ media | video_tag: controls: true }}\n        </div>\n      {% when \'model\' %}\n        <div class="product-single__media" style="padding-top: 100%" data-media-id="{{ media.id }}">\n          {{ media | model_viewer_tag }}\n        </div>\n      {% else %}\n        <div class="product-single__media" style="padding-top: 100%;" data-media-id="{{ media.id }}">\n          {{ media | media_tag }}\n        </div>\n{% endcase %}\n')),Object(r.b)("h2",{id:"show-variant-in-front"},"Show Variant In Front"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to ",Object(r.b)("inlineCode",{parentName:"li"},"templates")),Object(r.b)("li",{parentName:"ul"},"Put this code inside a product form",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'  \x3c!-- Variants Selector --\x3e\n  <select name="id">\n    {% for variant in product.variants %}\n      <option value="{{ variant.id }}">{{ variant.title }}</option>\n    {% endfor %}\n  </select>\n  \x3c!-- /Variants Selector --\x3e\n'))),Object(r.b)("li",{parentName:"ul"},"This will show a select of all possible variant",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"E.g.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"red/xs"),Object(r.b)("li",{parentName:"ul"},"red/s"),Object(r.b)("li",{parentName:"ul"},"red/m")))))),Object(r.b)("h2",{id:"exploded-variant"},"Exploded Variant"),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"In the case you want to separate variants in front")),Object(r.b)("h3",{id:"create-the-javascript-file"},"Create the JavaScript file"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to ",Object(r.b)("inlineCode",{parentName:"li"},"assets")),Object(r.b)("li",{parentName:"ul"},"Edit an existing ",Object(r.b)("inlineCode",{parentName:"li"},".js")," file or create it *e.g (",Object(r.b)("inlineCode",{parentName:"li"},"swatch.js"),")"),Object(r.b)("li",{parentName:"ul"},"Put the following code inside"),Object(r.b)("li",{parentName:"ul"},"Save your file")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"  /**\n   * -------------------------\n   * ShpCustom: Swatch\n   * -------------------------\n   */\n\n  // If You don't already have a custom global object created\n  // e.g ShpCustom can be what ever you want\n  window.ShpCustom = window.ShpCustom || {cart: {}};\n\n  (function() {\n    ShpCustom.Swatch = class {\n\n      /**\n       * Create a swatch.\n       * @param {string} id - The id of the form.\n       * @param {string} variantSelectId - The variant select id.\n       * @param {object} product - The product object.\n       */\n      constructor(id, variantSelectId, product) {\n        this.product = product;\n        this.sizeAlertTimeout;\n        this.id = `#${id}`;\n        this.variantSelectId = `${variantSelectId}`;\n\n        this.$sizeAlert = $(`${this.id} .size__alert`);\n        this.$addToCart = $(`${this.id} .js-add-to-cart`);\n        this.init();\n      }\n\n      init() {\n        new Shopify.OptionSelectors(this.variantSelectId, {\n          product: this.product,\n          onVariantSelected: (variant, selector) => {\n            this.selectCallback(variant, selector);\n          }\n        });\n\n        $(`${this.id} .selector-wrapper`).hide();\n\n        clearTimeout(this.sizeAlertTimeout);\n      \n        $(`${this.id} .swatch :radio`).change(this.handleChange);\n\n        // In case you want to link it with add to cart function\n        $(this.id).submit(this.handleSubmit)\n      }\n\n      handleChange(event) {\n        var optionIndex = $(event.target).closest('.swatch').attr('data-option-index');\n        var optionValue = $(event.target).val();\n        $(event.target)\n          .closest('form')\n          .find('.single-option-selector')\n          .eq(optionIndex)\n          .val(optionValue)\n          .trigger('change');\n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n      \n        const $submitButton = $(this.id).find('.js-add-to-cart');\n      \n        $submitButton.attr('disabled', 'disabled');\n        ShpCustom.Cart.addItemFromForm($(this.id).serialize(), () => {\n          $submitButton.removeAttr('disabled');\n        });\n      }\n\n      showAlert() {\n        if (this.$sizeAlert) {\n          this.$sizeAlert.show();\n          this.sizeAlertTimeout = setTimeout(() => {\n            this.$sizeAlert.hide();\n          }, 3000);\n        }\n      }\n\n      selectCallback(variant) {\n        this.$sizeAlert.hide();\n        if (variant) {\n          if (variant.available) {\n            this.$addToCart.removeAttr('disabled');\n          } else {\n            this.$addToCart.attr('disabled', 'disabled');\n            this.showAlert();\n          }\n        } else {\n          this.$addToCart.attr('disabled', 'disabled');\n          this.showAlert();\n        }\n      };\n    }\n  })();\n")),Object(r.b)("h3",{id:"update-the-layout-file"},"Update the layout file"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to ",Object(r.b)("inlineCode",{parentName:"li"},"layout")),Object(r.b)("li",{parentName:"ul"},"Open the ",Object(r.b)("inlineCode",{parentName:"li"},"theme.liquid")," file"),Object(r.b)("li",{parentName:"ul"},"At the bottom of the file before the ",Object(r.b)("inlineCode",{parentName:"li"},"</body>")," add",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'  <script src="{{ \'name_of_your_file.js\' | asset_url }}" defer="defer"><\/script>\n'))),Object(r.b)("li",{parentName:"ul"},"Save your file")),Object(r.b)("h1",{id:"create-a-custom-liquid-file-swatch"},"Create a custom liquid file (swatch)"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to ",Object(r.b)("inlineCode",{parentName:"li"},"snippets")),Object(r.b)("li",{parentName:"ul"},"Create a file named ",Object(r.b)("inlineCode",{parentName:"li"},"swatch.liquid")),Object(r.b)("li",{parentName:"ul"},"Add the following code inside and ",Object(r.b)("em",{parentName:"li"},"do some modifications/customization"))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'  {% assign selectedOptionToDisplay = option | escape | downcase %}\n  {% unless product.has_only_default_variant %}\n    {% for option in product.options_with_values %}\n    \n      {% assign downcased_option = option.name | escape | downcase %}\n\n        {% if selectedOptionToDisplay == downcased_option %}\n\n          {% if downcased_option == \'size\' %}\n            <div class="size-numbers">\n              <h6 class="size__title">\n                {{ \'general.product.size\' | t | capitalize}}\n              </h6>\x3c!-- /.size__title --\x3e\n              <div class="size__body">\n          {% endif %}\n\n          {% if downcased_option == \'color\' %}\n            <div class="colors">\n              {% if template == \'product\' %}\n                <h6 class="colors__title">\n                  {{ \'general.product.color\' | t | capitalize}}\n                </h6>\x3c!-- /.colors__title --\x3e\n              {% endif %}\n              <div class="colors__inner">\n          {% endif %}\n          \n                <div class="swatch" class="swatch" data-option-index="{{ forloop.index0 }}">\n                  {% for value in option.values %}\n\n                    {% assign variant_label_state = true %}\n\n                    {% if product.options.size == 1 %}\n                      {% unless product.variants[forloop.index0].available %}\n                        {% assign variant_label_state = false %}\n                      {% endunless %}\n                    {% endif %}\n\n                    <input type="radio"\n                      class="hidden"\n                      {% if forloop.index0 == 0 %} checked="checked"{% endif %}\n                      {% unless variant_label_state %} disabled="disabled"{% endunless %}\n                      value="{{ value | escape }}"\n                      data-index="option{{ forloop.index }}"\n                      name="{{ option.name | handleize }}"\n                      data-js-swatch-input>\n                    {% if downcased_option == \'color\' %}\n                      <label \n                        class="color color--{{ value | escape | downcase }}" \n                        data-js-swatch-label>\n                        <div class="color__btn"></div>\n                      </label>\n                    {% endif %}\n                    {% if downcased_option == \'size\' %}\n                      <label \n                        class="size {% unless variant_label_state %}size--unavailable {% endunless %}"\n                        data-js-swatch-label>\n                        {{ value }}\n                      </label>\n                    {% endif %}\n                  {% endfor %}              </div>\n\n          {% if downcased_option == \'size\' or downcased_option == \'color\' %}\n              </div>\n              {% if downcased_option == \'size\'and activeSizeAlert %}\n                <div class="size__alert hidden">\n                  <p>\n                    {{ \'general.product.size_alert\' | t }}\n                  </p>\n                </div>\n              {% endif %} \n            </div>\n          {% endif %}\n\n        {% endif %}\n    {% endfor %}\n  {% endunless %}\n')),Object(r.b)("h1",{id:"create-a-custom-liquid-file-variant"},"Create a custom liquid file (variant)"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to ",Object(r.b)("inlineCode",{parentName:"li"},"snippets")),Object(r.b)("li",{parentName:"ul"},"Create a file named ",Object(r.b)("inlineCode",{parentName:"li"},"variant-selector.liquid")),Object(r.b)("li",{parentName:"ul"},"Add the following code inside and ",Object(r.b)("em",{parentName:"li"},"do some modifications/customization")),Object(r.b)("li",{parentName:"ul"},"Put this code inside",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'\x3c!-- Variants Selector --\x3e\n  <select data-js-variant name="id" class="hidden">\n    {% for item in items %}\n      <option value="{{ item.id }}">{{ item.title }}</option>\n    {% endfor %}\n  </select>\n\x3c!-- /Variants Selector --\x3e\n')))),Object(r.b)("h1",{id:"how-to-use-it"},"How to use it"),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"E.g. use it on a product page")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"In your Shopify workspace go to your ",Object(r.b)("em",{parentName:"li"},"liquid product page")),Object(r.b)("li",{parentName:"ul"},"Customize your Shopify form tag to match this: ",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'  {% form "product", product, data-js-swatch: true, data-handle: product.handle %}\n'))),Object(r.b)("li",{parentName:"ul"},"Include your swatch liquid file inside your product ",Object(r.b)("em",{parentName:"li"},"form")," where you want",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),"  {% include 'swatch' with option: 'Color' %}\n  {% include 'swatch' with option: 'Size' %}\n"))),Object(r.b)("li",{parentName:"ul"},"Don't forget to add class to :",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Add To Cart Button")," ",Object(r.b)("inlineCode",{parentName:"li"},"js-add-to-cart"))))))}s.isMDXComponent=!0},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var d=i.a.createContext({}),s=function(e){var t=i.a.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o({},t,{},e)),a},p=function(e){var t=s(e.components);return i.a.createElement(d.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),p=s(a),u=n,m=p["".concat(l,".").concat(u)]||p[u]||b[u]||r;return a?i.a.createElement(m,o({ref:t},d,{components:a})):i.a.createElement(m,o({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,l=new Array(r);l[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var d=2;d<r;d++)l[d]=a[d];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);